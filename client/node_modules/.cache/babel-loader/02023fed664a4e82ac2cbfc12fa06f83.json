{"ast":null,"code":"var _jsxFileName = \"E:\\\\Web Development\\\\VideoChat\\\\client\\\\src\\\\screens\\\\Lobby.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useCallback, useEffect } from \"react\";\nimport { useNavigate } from 'react-router-dom';\nimport { useSocket } from \"../context/SocketProvider\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst LobbyScreen = () => {\n  _s();\n\n  const [email, setEmail] = useState(\"\");\n  const [room, setRoom] = useState(\"\");\n  const socket = useSocket();\n  const navigate = useNavigate();\n  console.log(socket);\n  const handleSubmitForm = useCallback(e => {\n    e.preventDefault();\n    socket.emit('room:join', {\n      email,\n      room\n    });\n  }, [email, room, socket]);\n  const handleJoinRoom = useCallback(data => {\n    const {\n      email,\n      room\n    } = data;\n    navigate(`/r`);\n  }, []);\n  useEffect(() => {\n    socket.on('room:join', handleJoinRoom);\n    return () => {\n      socket.off('room:join', handleJoinRoom);\n    };\n  }, [socket, handleJoinRoom]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Lobby\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmitForm,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"email\",\n        children: \"Email ID\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        id: \"email\",\n        value: email,\n        onChange: e => setEmail(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"room\",\n        children: \"Room Number\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"room\",\n        value: room,\n        onChange: e => setRoom(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"Join\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 9\n  }, this);\n};\n\n_s(LobbyScreen, \"heTC24EFzgnn3gPKdH/Gbl9Qkfs=\", false, function () {\n  return [useSocket, useNavigate];\n});\n\n_c = LobbyScreen;\nexport default LobbyScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"LobbyScreen\");","map":{"version":3,"names":["React","useState","useCallback","useEffect","useNavigate","useSocket","LobbyScreen","email","setEmail","room","setRoom","socket","navigate","console","log","handleSubmitForm","e","preventDefault","emit","handleJoinRoom","data","on","off","target","value"],"sources":["E:/Web Development/VideoChat/client/src/screens/Lobby.jsx"],"sourcesContent":["import React, { useState, useCallback, useEffect } from \"react\";\r\nimport {useNavigate} from 'react-router-dom'\r\nimport { useSocket } from \"../context/SocketProvider\";\r\n\r\n\r\nconst LobbyScreen = ()=> {\r\n\r\n    const [email, setEmail] = useState(\"\");\r\n    const [room, setRoom] = useState(\"\");\r\n\r\n    const socket = useSocket();\r\n    const navigate = useNavigate();\r\n\r\n    console.log(socket);\r\n\r\n    const handleSubmitForm = useCallback((e) => {\r\n        e.preventDefault();\r\n        socket.emit('room:join', { email, room});\r\n    } ,\r\n     [email, room, socket]\r\n     );\r\n\r\n     const handleJoinRoom = useCallback((data) => {\r\n    const { email, room} = data;\r\n    navigate(`/r`)\r\n }, []);\r\n\r\n     useEffect(() => {\r\n        socket.on('room:join', handleJoinRoom);\r\n        return () => {\r\n            socket.off('room:join', handleJoinRoom)\r\n        }\r\n     }, [socket,handleJoinRoom]);\r\n\r\n    return (\r\n        <div>\r\n            <h1>Lobby</h1>\r\n            <form onSubmit={handleSubmitForm}>\r\n                <label htmlFor=\"email\">Email ID</label>\r\n                <input type=\"email\" id=\"email\" value={email} onChange={(e) => setEmail(e.target.value)} />\r\n                <label htmlFor=\"room\">Room Number</label>\r\n                <input type=\"text\" id=\"room\"  value={room} onChange={(e) => setRoom(e.target.value)}/>\r\n                <br />\r\n                <button>Join</button>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default LobbyScreen;"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,WAA1B,EAAuCC,SAAvC,QAAwD,OAAxD;AACA,SAAQC,WAAR,QAA0B,kBAA1B;AACA,SAASC,SAAT,QAA0B,2BAA1B;;;AAGA,MAAMC,WAAW,GAAG,MAAK;EAAA;;EAErB,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBP,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAM,CAACQ,IAAD,EAAOC,OAAP,IAAkBT,QAAQ,CAAC,EAAD,CAAhC;EAEA,MAAMU,MAAM,GAAGN,SAAS,EAAxB;EACA,MAAMO,QAAQ,GAAGR,WAAW,EAA5B;EAEAS,OAAO,CAACC,GAAR,CAAYH,MAAZ;EAEA,MAAMI,gBAAgB,GAAGb,WAAW,CAAEc,CAAD,IAAO;IACxCA,CAAC,CAACC,cAAF;IACAN,MAAM,CAACO,IAAP,CAAY,WAAZ,EAAyB;MAAEX,KAAF;MAASE;IAAT,CAAzB;EACH,CAHmC,EAInC,CAACF,KAAD,EAAQE,IAAR,EAAcE,MAAd,CAJmC,CAApC;EAOC,MAAMQ,cAAc,GAAGjB,WAAW,CAAEkB,IAAD,IAAU;IAC9C,MAAM;MAAEb,KAAF;MAASE;IAAT,IAAiBW,IAAvB;IACAR,QAAQ,CAAE,IAAF,CAAR;EACF,CAHqC,EAGnC,EAHmC,CAAlC;EAKAT,SAAS,CAAC,MAAM;IACbQ,MAAM,CAACU,EAAP,CAAU,WAAV,EAAuBF,cAAvB;IACA,OAAO,MAAM;MACTR,MAAM,CAACW,GAAP,CAAW,WAAX,EAAwBH,cAAxB;IACH,CAFD;EAGF,CALQ,EAKN,CAACR,MAAD,EAAQQ,cAAR,CALM,CAAT;EAOD,oBACI;IAAA,wBACI;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ,eAEI;MAAM,QAAQ,EAAEJ,gBAAhB;MAAA,wBACI;QAAO,OAAO,EAAC,OAAf;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADJ,eAEI;QAAO,IAAI,EAAC,OAAZ;QAAoB,EAAE,EAAC,OAAvB;QAA+B,KAAK,EAAER,KAAtC;QAA6C,QAAQ,EAAGS,CAAD,IAAOR,QAAQ,CAACQ,CAAC,CAACO,MAAF,CAASC,KAAV;MAAtE;QAAA;QAAA;QAAA;MAAA,QAFJ,eAGI;QAAO,OAAO,EAAC,MAAf;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAHJ,eAII;QAAO,IAAI,EAAC,MAAZ;QAAmB,EAAE,EAAC,MAAtB;QAA8B,KAAK,EAAEf,IAArC;QAA2C,QAAQ,EAAGO,CAAD,IAAON,OAAO,CAACM,CAAC,CAACO,MAAF,CAASC,KAAV;MAAnE;QAAA;QAAA;QAAA;MAAA,QAJJ,eAKI;QAAA;QAAA;QAAA;MAAA,QALJ,eAMI;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QANJ;IAAA;MAAA;MAAA;MAAA;IAAA,QAFJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAaH,CA1CD;;GAAMlB,W;UAKaD,S,EACED,W;;;KANfE,W;AA4CN,eAAeA,WAAf"},"metadata":{},"sourceType":"module"}